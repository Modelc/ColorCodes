<!DOCTYPE html>
<html>
  <head>
    <title>Palette Generator</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: sans-serif;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
      }

      .upload-form {
        margin-bottom: 20px;
      }

      .upload-form input[type="file"] {
        display: none;
      }

      .upload-form label {
        cursor: pointer;
        display: inline-block;
        padding: 10px 20px;
        border: 1px solid #ccc;
        background-color: #eee;
      }

      .palette {
        display: flex;
        flex-wrap: wrap;
        margin: -5px;
      }

      .palette .color {
        width: 20%;
        padding: 5px;
        box-sizing: border-box;
      }

      .palette .color .swatch {
        width: 100%;
        height: 100px;
        border: 1px solid #ccc;
      }

      .palette .color .label {
        text-align: center;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Palette Generator</h1>
      <p>Upload an image to generate a custom color palette.</p>

      <form class="upload-form">
        <input type="file" id="file-input" accept="image/*" />
        <label for="file-input">Upload image</label>
      </form>

      <div class="palette">
        <div class="color">
          <div class="swatch" style="background-color: #ff0000"></div>
          <div class="label">#FF0000</div>
        </div>
        <div class="color">
          <div class="swatch" style="background-color: #00ff00"></div>
          <div class="label">#00FF00</div>
        </div>
        <div class="color">
          <div class="swatch" style="background-color: #0000ff"></div>
          <div class="label">#0000FF</div>
        </div>
        <div class="color">
          <div class="swatch" style="background-color: #ffff00"></div>
          <div class="label">#FFFF00</div>
        </div>
        <div class="color">
          <div class="swatch" style="background-color: #00ffff"></div>
          <div class="label">#00FFFF</div>
        </div>
        <div class="color">
          <div class="swatch" style="background-color: #ff00ff"></div>
          <div class="label">#FF00FF</div>
        </div>
        <div class="color">
          <div class="swatch" style="background-color: #000000"></div>
          <div class="label">#000000</div>
        </div>
        <div class="color">
          <div class="swatch" style="background-color: #808080"></div>
          <div class="label">#808080</div>
        </div>
        <div class="color">
          <div class="swatch" style="background-color: #c0c0c0"></div>
          <div class="label">#C0C0C0</div>
        </div>
        <div class="color">
          <div class="swatch" style="background-color: #ffffff"></div>
          <div class="label">#FFFFFF</div>
        </div>
      </div>
    </div>

    <script>
      // Get the file input and the palette container
      const fileInput = document.querySelector("#file-input");
      const paletteContainer = document.querySelector(".palette");

      // Listen for changes to the file input
      fileInput.addEventListener("change", () => {
        // Check if a file was selected
        if (fileInput.files && fileInput.files[0]) {
          // Create a new FileReader
          const reader = new FileReader();

          // Listen for when the file has been loaded
          reader.addEventListener("load", () => {
            // Get the image data from the FileReader
            const imageData = reader.result;

            // Generate a custom color palette from the image data
            // (K-means clustering algorithm goes here)

            // Clear the existing palette
            paletteContainer.innerHTML = "";

            // Add the new colors to the palette
            const colors = [
              "#FF0000",
              "#00FF00",
              "#0000FF",
              "#FFFF00",
              "#00FFFF",
              "#FF00FF",
              "#000000",
              "#808080",
              "#C0C0C0",
              "#FFFFFF",
            ];
            for (const color of colors) {
              // Create a new color swatch
              const swatch = document.createElement("div");
              swatch.classList.add("swatch");
              swatch.style.backgroundColor = color;

              // Create a new color label
              const label = document.createElement("div");
              label.classList.add("label");
              label.innerText = color;

              // Create a new color element
              const colorElement = document.createElement("div");
              colorElement.classList.add("color");
              colorElement.appendChild(swatch);
              colorElement.appendChild(label);

              // Add the color element to the palette
              paletteContainer.appendChild(colorElement);
            }
          });

          // Read the file as an image
          reader.readAsDataURL(fileInput.files[0]);
        }
      });
    </script>
  </body>
</html>
